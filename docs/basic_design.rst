基本設計書
==========

システム構成
------------

本システムは、スタンドアロンのデスクトップアプリケーションとして動作します。

**技術スタック:**

*   **プログラミング言語**: Python 3.10+
*   **GUIフレームワーク**: Flet (FlutterベースのPythonラッパー)
*   **データ処理**: pandas
*   **機械学習**: scikit-learn (RandomForestRegressor)
*   **データソース**: OpenML (Ames Housing dataset)

アーキテクチャ
--------------

アプリケーションは単一のモジュール `src/main.py` で構成されるモノリシックな構造とします。

*   **データ層**: `pandas` DataFrameを使用し、CSVファイルへのキャッシュ機構を持つ。
*   **ロジック層**: `scikit-learn` を用いた学習済みモデルの作成と推論処理。
*   **プレゼンテーション層**: `Flet` を用いたウィジェット（タブ、チャート、フォーム）の構築。

画面設計
--------

メイン画面はタブ切り替え方式を採用し、以下の4つのタブを持ちます。

1.  **データ一覧 (Data)**: 生データのスプレッドシート表示。
2.  **分析 (Analysis)**: 相関行列の計算結果とグラフ表示。
3.  **AI予想 (Prediction)**: ユーザー入力フォームと予測結果の表示。
4.  **欠損値 (Missing Values)**: データの品質確認画面。

データフロー
------------

1.  アプリ起動 -> `main()` 関数実行。
2.  `house_prices.csv` の存在確認。
    *   なければ OpenML からダウンロード -> CSV保存。
    *   あれば CSV 読み込み。
3.  `DataFrame` オブジェクトの生成。
4.  Flet UI の構築（各タブのコンテンツ生成）。
5.  予測ボタン押下時 -> フォーム値取得 -> `model.predict()` -> 結果表示。
